---
- hosts:
    - all
  roles:
    - Juniper.junos
  connection: local
  gather_facts: no

  tasks:
    - name: ping check
      raw: ping -t 5 -c 3 {{ inventory_hostname }}
    - name: ssh check
      wait_for:
        host: "{{ inventory_hostname }}"
        connect_timeout: 5 # maximum number of seconds to wait for a connection to happen before closing and retrying
        state: started
        timeout: 10 # maximum number of seconds to wait for
        port: 22
